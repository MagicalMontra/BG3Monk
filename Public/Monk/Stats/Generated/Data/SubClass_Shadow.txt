new entry "ShadowArts"
type "PassiveData"
data "DisplayName" "Shadow Arts"
data "Description" "You can use your ki to duplicate the effects of certain spells. As an action, you can spend 2 ki points to cast Darkness, Darkvision, Pass without Trace, or Silence, without providing material components. Additionally, you gain the Minor Illusion cantrip if you don't already know it."
data "Boosts" "UnlockSpell(Target_Darkness_Monk);UnlockSpell(Target_Silence_Monk);UnlockSpell(Target_Darkvision_Monk);UnlockSpell(Shout_PassWithoutTrace_Monk);UnlockSpell(Target_MinorIllusion_Monk)"
data "BoostConditions" "not WearingArmor(context.Source) and not HasShieldEquipped(context.Source)"
data "BoostContext" "OnEquip,OnUnEquip,OnCreate,OnApply"

new entry "Target_MinorIllusion_Monk"
type "SpellData"
data "SpellType" "Target"
using "Target_MinorIllusion"
data "DisplayName" "Shadow Arts: Minor Illusion"
data "Icon" "Icon_ShadowArts_MinorIllusion"
data "UseCosts" "ActionPoint:1"

new entry "Target_Darkness_Monk"
type "SpellData"
data "SpellType" "Target"
data "Level" "2"
data "SpellSchool" "Evocation"
data "SpellProperties" "GROUND:CreateSurface(5,10,DarknessCloud,true)"
data "TargetRadius" "18"
data "AreaRadius" "5"
data "Icon" "Icon_ShadowArts_Darkness"
data "DisplayName" "Shadow Arts: Darkness"
data "Description" "Shared_Target_Darkness_Description"
data "CastTextEvent" "Cast"
data "CastSound" "Spell_Cast_Utility_Darkness_L1to3"
data "VocalComponentSound" "Vocal_Component_Dark"
data "TargetSound" "Spell_Impact_Utility_Darkness_L1to3"
data "CycleConditions" "Enemy() and not Dead()"
data "UseCosts" "ActionPoint:1;KiPoint:2"
data "RequirementConditions" "HasActionResource('KiPoint', 2, 0, false)"
data "SpellAnimation" "dd86aa43-8189-4d9f-9a5c-454b5fe4a197(SPL_Arcane_Utility_01_Prepare),,;,,;7abe77ed-9c77-4eac-872c-5b8caed070b6(SPL_Somatic_Aoe_Rise_01_Cast),,;cb171bda-f065-4520-b470-e447f678ba1f(SPL_Somatic_Aoe_Rise_01_Recover),,;cc5b0caf-3ed1-4711-a50d-11dc3f1fdc6a(SPL_Arcane_Utility_01_Loop),,;,,;1715b877-4512-472e-9bd0-fd568a112e90(SPL_Arcane_Utility_01_Cancel),,;bcc3b0d9-f04f-4448-aab0-e0ad641167cc(SPL_Somatic_Self_01_Cast),,;bf924cc6-8b39-4c3b-b1c0-eda264cf6150(SPL_Somatic_Self_01_Recover),,"
data "VerbalIntent" "Utility"
data "SpellFlags" "HasVerbalComponent;IsSpell;IsConcentration;Stealth;Invisible"
data "MemoryCost" "1"
data "PrepareEffect" "7121a488-7c9a-4ba1-a585-f79aaa77e97c"
data "CastEffect" "e61d2266-f041-4bd5-a488-7b66e76d781c"
data "PositionEffect" "0afcbe13-7593-4bb7-8dfd-b7147a3f416c"

new entry "Target_Silence_Monk"
type "SpellData"
data "SpellType" "Target"
using "Target_Silence"
data "DisplayName" "Shadow Arts: Silence"
data "Icon" "Icon_ShadowArts_Silence"
data "UseCosts" "ActionPoint:1;KiPoint:2"
data "RequirementConditions" "HasActionResource('KiPoint', 2, 0, false)"

new entry "Target_Darkvision_Monk"
type "SpellData"
data "SpellType" "Target"
using "Target_Darkvision"
data "DisplayName" "Shadow Arts: Darkvision"
data "Icon" "Icon_ShadowArts_Darkvision"
data "UseCosts" "ActionPoint:1;KiPoint:2"
data "RequirementConditions" "HasActionResource('KiPoint', 2, 0, false)"

new entry "Shout_PassWithoutTrace_Monk"
type "SpellData"
data "SpellType" "Shout"
using "Shout_PassWithoutTrace"
data "DisplayName" "Shadow Arts: Pass Without Trace"
data "Icon" "Icon_ShadowArts_PassWOTrace"
data "UseCosts" "ActionPoint:1;KiPoint:2"
data "RequirementConditions" "HasActionResource('KiPoint', 2, 0, false)"

new entry "ShadowStepPassive"
type "PassiveData"
data "DisplayName" "Shadow Step"
data "Description" "When in dim light or darkness you can teleport up to 60ft as a bonus action and gain advantage on your next melee attack."
data "Icon" "Spell_Conjuration_MistyStep"
data "Boosts" "UnlockSpell(Target_ShadowStep)"
data "BoostContext" "OnTurn;OnCreate"

new entry "Target_ShadowStep"
type "SpellData"
data "SpellType" "Target"
data "SpellProperties" "GROUND:TeleportSource();GROUND:ApplyStatus(SELF,SHADOWSTEP,100,1)"
data "TargetRadius" "20"
data "SpellSuccess" "ApplyStatus(SHADOWSTEP,100,1)
data "TargetConditions" "CanStand('')" 
data "Icon" "Spell_Conjuration_MistyStep"
data "DisplayName" "Shadow Step Spell"
data "Description" "Teleport up to 60 feet to an unoccupied space you can see. You then have advantage on the first melee attack you make before the end of the turn."
data "DescriptionParams" "ApplyStatus(SHADOWSTEP,100,1)"
data "TooltipStatusApply" "ApplyStatus(SHADOWSTEP,100,1)"
data "CastTextEvent" "Cast"
data "CastSound" "Spell_Cast_Utility_MistyStep_L1to3"
data "VocalComponentSound" "Vocal_Component_Teleport"
data "TargetSound" "Spell_Impact_Utility_MistyStep_L1to3"
data "UseCosts" "BonusActionPoint:1"
data "SpellAnimation" "dd86aa43-8189-4d9f-9a5c-454b5fe4a197(SPL_Arcane_Utility_01_Prepare),,;,,;7abe77ed-9c77-4eac-872c-5b8caed070b6(SPL_Somatic_Aoe_Rise_01_Cast),,;cb171bda-f065-4520-b470-e447f678ba1f(SPL_Somatic_Aoe_Rise_01_Recover),,;cc5b0caf-3ed1-4711-a50d-11dc3f1fdc6a(SPL_Arcane_Utility_01_Loop),,;,,"
data "VerbalIntent" "Utility"
data "SpellFlags" "IsASpell;HasHighGroundRangeExtension;RangeIgnoreVerticalThreshold;Invisible;IgnoreSilence"
data "LineOfSightFlags" "AddSourceHeight"
data "PrepareEffect" "7121a488-7c9a-4ba1-a585-f79aaa77e97c"
data "CastEffect" "e61d2266-f041-4bd5-a488-7b66e76d781c"
data "RequirementConditions" "not HasObscuredState(ObscuredState.Clear)"

new entry "SHADOWSTEP"
type "StatusData"
data "StatusType" "BOOST"
data "DisplayName" "Shadow Step"
data "Description" "You have advantage on your next melee attack."
data "Icon" "Spell_Divination_TrueStrike"
data "StackId" "SHADOWSTEP"
data "Boosts" "SourceAdvantageOnAttack('MeleeWeaponAttack' and 'MeleeSpellAttack')"
data "RemoveFunctors" "OnAttack((AttackType.MeleeWeaponAttack) or (AttackType.MeleeSpellAttack) or (AttackType.MeleeUnarmedAttack)),OnTurn"
data "StatusEffect" "69a8837a-6310-4215-9fc6-bfa26e0e613c"

new entry "CloakOfShadows"
type "PassiveData"
data "DisplayName" "Cloak of Shadows"
data "Description" "When in dim light or darkness you can use your action to become invisible until you make an attack, cast a spell, or are in an area of bright light."
data "Icon" "Spell_Illusion_Invisibility"
data "Boost" "UnlockSpell(Shout_CloakOfShadows);UnlockSpell(Target_Invisibility_Monk)"

new entry "Shout_CloakOfShadows"
type "SpellData"
data "SpellType" "Target"
data "SpellProperties" "ApplyStatus(SELF,CLOAKOFSHADOWS,100,-1)"
data "TargetRadius" "SELF()"
data "TargetConditions" "Character() and not HasObscuredState(ObscuredState.Clear, context.Target)"
data "Icon" "Spell_Illusion_Invisibility"
data "DisplayName" "Cloak of Shadows"
data "Description" "Use your action to become invisible until you make an attack, cast a spell, or are in an area of bright light."
data "DescriptionParams" "ApplyStatus(CLOAKOFSHADOWS,100,-1)"
data "TooltipStatusApply" "ApplyStatus(CLOAKOFSHADOWS,100,-1)"
data "PreviewCursor" "Cast"
data "CastSelfAnimation" "bcc3b0d9-f04f-4448-aab0-e0ad641167cc(SPL_Somatic_Self_01_Cast)"
data "CastTextEvent" "Cast"
data "CastSound" "Spell_Cast_Utility_Invisibility_L1to3"
data "VocalComponentSound" "Vocal_Component_Invisibility"
data "TargetSound" "Spell_Impact_Utility_Invisibility_L1to3"
data "UseCosts" "ActionPoint:1"
data "SpellAnimation" "dd86aa43-8189-4d9f-9a5c-454b5fe4a197(SPL_Arcane_Utility_01_Prepare),,;,,;e37d18b8-0de7-4bbc-a644-31ec2a91e548(SPL_Somatic_Touch_01_Cast),,;acfe8d41-20c1-4fe8-b158-f4b2be86e080(SPL_Somatic_Touch_01_Recover),,;cc5b0caf-3ed1-4711-a50d-11dc3f1fdc6a(SPL_Arcane_Utility_01_Loop),,;,,"
data "VerbalIntent" "Utility"
data "SpellFlags" "IsASpell;IsMelee;UnavailableInDialogs"
data "HitAnimationType" "MagicalNonDamage"
data "PrepareEffect" "7121a488-7c9a-4ba1-a585-f79aaa77e97c"
data "CastEffect" "4f8e353e-c04e-45c3-880b-d10885fd091f"
data "TargetEffect" "68b1219a-ccc2-4b29-bb42-b18996de3b4d"
data "RequirementConditions" "not HasObscuredState(ObscuredState.Clear)"

new entry "CLOAKOFSHADOWS"
type "StatusData"
data "StatusType" "INVISIBLE"
data "DisplayName" "Cloak of Shadows Invisibility"
data "Description" "You are invisible, you receive advantage on attack rolls and can't be seen."
data "ExtraDescription" "You become visible if you attack, cast a spell, or enter an area that isn't dim light or darkness."
data "Icon" "Spell_Illusion_Invisibility"
data "StackId" "CLOAKOFSHADOWS"
data "StackPriority" "4"
data "Boosts" "IgnoreLeaveAttackRange; Invisibility(); Advantage(AttackRoll); DetectDisturbancesBlock(true);"
data "RemoveConditions" "(IsStatusEvent(StatusEvent.OnSpellCast) and not HasSpellFlag(SpellFlags.Invisible)) or (IsStatusEvent(StatusEvent.OnDamage) and TotalDamageDoneGreaterThan(0)) or (IsStatusEvent(StatusEvent.OnObscurityChanged) and HasObscuredState(ObscuredState.Clear, context.Source))"
data "StatusPropertyFlags" "UnavailableInActiveRoll"
data "RemoveEvents" "OnSpellCast;OnDamage;OnObscurityChanged"
data "StatusGroups" "SG_Invisible"
data "StatusEffect" "84be28b3-6fdf-4b62-86e2-1f3b333aab81"

new entry "Target_Invisibility_Monk"
type "SpellData"
data "SpellType" "Target"
data "SpellProperties" "AI_IGNORE:ApplyStatus(INVISIBILITY,100,-1);AI_ONLY:ApplyStatus(INVISIBILITY,100,2)"
data "TargetRadius" "1.5"
data "TargetConditions" "Character() and not HasStatus('FAERIE_FIRE')"
data "Icon" "Spell_Illusion_Invisibility"
data "DisplayName" "Shared_Target_Invisibility_DisplayName"
data "Description" "Shared_Target_Invisibility_Description"
data "ExtraDescription" "Shared_Target_Invisibility_ExtraDescription"
data "TooltipStatusApply" "ApplyStatus(INVISIBILITY,100,-1)"
data "PreviewCursor" "Cast"
data "CastSelfAnimation" "bcc3b0d9-f04f-4448-aab0-e0ad641167cc(SPL_Somatic_Self_01_Cast)"
data "CastTextEvent" "Cast"
data "CastSound" "Spell_Cast_Utility_Invisibility_L1to3"
data "VocalComponentSound" "Vocal_Component_Invisibility"
data "TargetSound" "Spell_Impact_Utility_Invisibility_L1to3"
data "UseCosts" "ActionPoint:1"
data "SpellAnimation" "dd86aa43-8189-4d9f-9a5c-454b5fe4a197(SPL_Arcane_Utility_01_Prepare),,;,,;e37d18b8-0de7-4bbc-a644-31ec2a91e548(SPL_Somatic_Touch_01_Cast),,;acfe8d41-20c1-4fe8-b158-f4b2be86e080(SPL_Somatic_Touch_01_Recover),,;cc5b0caf-3ed1-4711-a50d-11dc3f1fdc6a(SPL_Arcane_Utility_01_Loop),,;,,"
data "VerbalIntent" "Utility"
data "SpellFlags" "IsASpell;HasVerbalComponent;HasSomaticComponent;IsMelee;IsConcentration;UnavailableInDialogs"
data "HitAnimationType" "MagicalNonDamage"
data "PrepareEffect" "7121a488-7c9a-4ba1-a585-f79aaa77e97c"
data "CastEffect" "4f8e353e-c04e-45c3-880b-d10885fd091f"
data "TargetEffect" "68b1219a-ccc2-4b29-bb42-b18996de3b4d"
data "RequirementConditions" "not HasObscuredState(ObscuredState.Clear)"